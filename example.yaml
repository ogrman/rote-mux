default: ping-demo
tasks:
  google-ping:
    run: ping google.com
    timestamps: true
  cloudflare-ping:
    run: ping 1.1.1.1
  github-ping:
    run: ping github.com
  short-lived:
    run: bash -c 'echo "Starting short-lived task"; sleep 5; echo "Task exiting after 5 seconds"; exit 1'
    require: [setup-task]
  auto-restarting:
    run: bash -c 'echo "Starting auto-restarting task"; echo "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco."; sleep 3; echo "Task exiting after 3 seconds"'
    autorestart: true
  setup-task:
    ensure: true
  healthcheck-demo:
    run: bash -c 'echo "Starting service..."; sleep 2; echo "Service ready"; while true; do sleep 1; done'
    healthcheck:
      cmd: "true"
      interval: 1
  healthcheck-tool-demo:
    run: bash -c 'echo "Starting port listener..."; nc -l 12345'
    healthcheck:
      tool: is-port-open 12345
      interval: 0.5
  ping-demo:
    require: [google-ping, cloudflare-ping, short-lived, auto-restarting]
